[tox:tox]
envlist = {py39,py310,py311,py312,py313}-{django32,django40,django41,django42,django50,django51},coverage


[testenv:{py39,py310,py311,py312,py313}-{django32,django40,django41,django42,django50,django51}]
commands = python -m pytest
setenv =
    DJANGO_SETTINGS_MODULE = test_df_config.data.settings
deps =
    django32: Django>=3.2,<3.3
    django40: Django>=4.0,<4.1
    django41: Django>=4.1,<4.2
    django42: Django>=4.2,<4.3
    django50: Django>=5.0,<5.1
    django51: Django>=5.1,<5.2
    django-minio-storage
    django-redis
    hypothesis
    nose
    pytest
    pytest-django
    python-logging-loki
    tox
[testenv:coverage]
commands =
    python3 -m coverage run --source='df_config,test_df_config' -m pytest
    python3 -m coverage xml -o build/coverage.xml
    python3 -m coverage report -m
deps =
    django32: Django>=3.2,<3.3
    django40: Django>=4.0,<4.1
    django41: Django>=4.1,<4.2
    django42: Django>=4.2,<4.3
    django50: Django>=5.0,<5.1
    django51: Django>=5.1,<5.2
    django-allauth
    django-debug-toolbar
    django-minio-storage
    django-prometheus
    django-redis
    hypothesis
    coverage
    nose
    pytest
    pytest-django
    python-logging-loki
    tox
